<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>shell编程</title>
    <url>/2019/12/21/shell%E7%BC%96%E7%A8%8B/</url>
    <content><![CDATA[<h4 id="shell编程"><a href="#shell编程" class="headerlink" title="shell编程"></a>shell编程</h4><p>Shell脚本，是一种为shell编写的脚本程序。</p>
<p>Shell编程跟JavaScript、Python编程一样，只要有一个能编写代码的文本编辑器和一个能解释执行的脚本解释器就可以了。</p>
<p>Linux的Shell种类有很多，我们主要用的是Bourne Shell(/usr.bin/sh或/bin/sh)</p>
<h5 id="1-创建shell文件"><a href="#1-创建shell文件" class="headerlink" title="1.创建shell文件"></a>1.创建shell文件</h5><p>原则上shell程序可以写在任何文件中，但是一般会在shell文件后加后缀.sh表示当前文件是一个shell文件</p>
<p>shell需要可执行权限，所以创建好的shell文件需要添加x权限</p>
<h5 id="2-基础语法"><a href="#2-基础语法" class="headerlink" title="2.基础语法"></a>2.基础语法</h5><h6 id="1）注释"><a href="#1）注释" class="headerlink" title="1）注释"></a>1）注释</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 单行注释</span></span><br><span class="line">:&lt;&lt;EOF</span><br><span class="line">多行注释1</span><br><span class="line">多行注释2</span><br><span class="line">多行注释3</span><br><span class="line">EOF</span><br></pre></td></tr></table></figure>

<h6 id="2）输出和输入"><a href="#2）输出和输入" class="headerlink" title="2）输出和输入"></a>2）输出和输入</h6><p>echo指令就相当于python中的print函数(默认会换行)</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo  输出内容  </span><br><span class="line">echo -n 输出内容     # 输出的时候不换行</span><br></pre></td></tr></table></figure>



<p>printf指令（输出不能换行）</p>
<figure class="highlight cpp"><table><tr><td class="code"><pre><span class="line"><span class="built_in">printf</span> 输出内容</span><br></pre></td></tr></table></figure>



<p>输入指令:  read 变量名    – 输入内容，并且将输入的结果保存在变量中</p>
<h6 id="3）变量"><a href="#3）变量" class="headerlink" title="3）变量"></a>3）变量</h6><p>a. 声明变量的语法:   变量名=值</p>
<p>说明:  a. 变量名和=, =和值之间不能有空格</p>
<p>​       b. 变量名的要求和python变量名要求一样</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">name='小明'</span><br><span class="line">age=18</span><br><span class="line">stu_name=小红</span><br></pre></td></tr></table></figure>



<p>b. 使用变量: </p>
<p>​         $变量</p>
<p>​         ${变量}</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">age=18</span><br><span class="line">echo $age</span><br><span class="line">age2=$&#123;age&#125;</span><br></pre></td></tr></table></figure>

<p>c. 只读变量</p>
<p>使用 readonly 命令可以将变量定义为只读变量，只读变量的值不能被改变。</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">gender='男'</span><br><span class="line">readonly gender</span><br><span class="line">gender='女'     # test.sh: line 17: gender: readonly variable</span><br></pre></td></tr></table></figure>

<p>d. 删除变量</p>
<p>使用 unset 命令可以删除变量</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">name='yuting'</span><br><span class="line">unset name</span><br></pre></td></tr></table></figure>



<h6 id="4）获取linux指令结果"><a href="#4）获取linux指令结果" class="headerlink" title="4）获取linux指令结果"></a>4）获取linux指令结果</h6><p>在shell脚本中可以直接写linux指令，在执行shell脚本的时候这些指令可以直接获取</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">ls     # ls指令</span><br><span class="line">ls  -lh      # ls指令，并且设置参数</span><br><span class="line">touch a.txt    # 创建a.txt文件</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取指令结果: 变量=$(指令)  /   变量=`指令`</span></span><br><span class="line">lsresult=$(ls)    #将ls指令的结果保存到变量lsresult中</span><br><span class="line">currnet_path=`pwd`</span><br></pre></td></tr></table></figure>



<h5 id="3-shell字符串"><a href="#3-shell字符串" class="headerlink" title="3.shell字符串"></a>3.shell字符串</h5><p>shell中的字符串可以用单引号也可以使用双引号甚至可以不用引号。但是单引号中不能出现单引号字符，加\也不行</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">str1='abc'</span><br><span class="line">str2="abc"</span><br><span class="line">str3=abc</span><br><span class="line">str4='abc\n123'		#支持转义字符,但是不支持编码字符</span><br><span class="line">str5="abc\n123"</span><br><span class="line"></span><br><span class="line">age=18</span><br><span class="line">str6="年龄是$age"    #双引号里面可以出现变量,单引号不行</span><br></pre></td></tr></table></figure>

<h6 id="1）字符串拼接"><a href="#1）字符串拼接" class="headerlink" title="1）字符串拼接"></a>1）字符串拼接</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">str1="hello"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">单引号拼接</span></span><br><span class="line">str2=''$&#123;str1&#125;',world!'</span><br><span class="line">str3=''$str1',world!'</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">双引号拼接</span></span><br><span class="line">str4="$&#123;str1&#125;,world!"</span><br><span class="line">str5=""$str1",world!"</span><br></pre></td></tr></table></figure>

<h6 id="2）获取字符串长度"><a href="#2）获取字符串长度" class="headerlink" title="2）获取字符串长度"></a>2）获取字符串长度</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">str1="abcd"</span><br><span class="line">echo $&#123;#str1&#125;    # 输出4</span><br></pre></td></tr></table></figure>

<h6 id="3）字符串提取"><a href="#3）字符串提取" class="headerlink" title="3）字符串提取"></a>3）字符串提取</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 字符串:下标:个数   --从字符串中指定下标开始获取指定个数字符,返回一个新的字符串</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 字符串:下标:1   -- 获取字符串中指定下标对应的字符</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 字符串:下标     -- 从指定下标开始获取到字符串最后</span></span><br><span class="line"></span><br><span class="line">string='hello world'</span><br><span class="line">echo $&#123;string:1:4&#125;    # ello</span><br></pre></td></tr></table></figure>



<h5 id="4-shell数组"><a href="#4-shell数组" class="headerlink" title="4.shell数组"></a>4.shell数组</h5><p>在 Shell 中，用括号来表示数组，数组元素用”空格”符号分割开。定义数组的一般形式为：</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 数组名=(元素1 元素2 元素3 ...)</span></span><br><span class="line">names=(小明 小红 大黄 Tom)</span><br><span class="line">names2=(</span><br><span class="line">'小明'</span><br><span class="line">'小红'</span><br><span class="line">'大黄'</span><br><span class="line">'Tom'</span><br><span class="line">)</span><br><span class="line">names3[0]=小明</span><br><span class="line">names3[1]=小红</span><br><span class="line">names3[2]=大黄</span><br><span class="line">names3[3]=Tom</span><br></pre></td></tr></table></figure>

<h6 id="1）获取数组元素：-数组-下标"><a href="#1）获取数组元素：-数组-下标" class="headerlink" title="1）获取数组元素：${数组[下标]}"></a>1）获取数组元素：${数组[下标]}</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">echo $&#123;names[1]&#125;    # 小红</span><br></pre></td></tr></table></figure>

<h6 id="2）获取数组的长度"><a href="#2）获取数组的长度" class="headerlink" title="2）获取数组的长度"></a>2）获取数组的长度</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">nums=(100 200 300 400)</span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取数组长度</span></span><br><span class="line">length=$&#123;#nums[@]&#125;</span><br><span class="line">length=$&#123;#nums[*]&#125;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 获取数组指定下标对应的元素的长度</span></span><br><span class="line">length2=$&#123;#num[n]&#125;</span><br></pre></td></tr></table></figure>



<h5 id="5-运算符"><a href="#5-运算符" class="headerlink" title="5.运算符"></a>5.运算符</h5><p>shell中支持的运算符有:  算术运算符、关系运算符、布尔运算符、字符串运算符</p>
<h6 id="1）算术运算符：-，-，-，-，"><a href="#1）算术运算符：-，-，-，-，" class="headerlink" title="1）算术运算符：+，-，*，/，%"></a>1）算术运算符：+，-，*，/，%</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 如果想要在shell完成数值运算，运算的语法:  `expr 运算表达式`; 并且运算符两边必须加空格</span></span><br><span class="line">re1=10+20</span><br><span class="line">echo $&#123;re1&#125;    # 10+20</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 1.加法运算</span></span><br><span class="line">re2=`expr 10 + 20`    </span><br><span class="line">echo $&#123;re2&#125;    # 30</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2.减法运算</span></span><br><span class="line">re3=`expr 10 - 20`</span><br><span class="line">echo $&#123;re3&#125;	   # -10</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3.乘法运算</span></span><br><span class="line">re4=`expr 10 \* 20`   # 注意:使用*作为乘法运算符的时候需要前面加\</span><br><span class="line">echo $&#123;re4&#125; 	# 200</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 4.除法运算</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 小数除法运算: `<span class="built_in">echo</span> <span class="string">"scale=小数点位数;数值1 / 数值2"</span>|bc`</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 整数除法运算: `expr 数值1 / 数值2`</span></span><br><span class="line">re5=`echo "scale=2;7 / 3"|bc`</span><br><span class="line">echo $re5</span><br><span class="line"></span><br><span class="line">re6=`expr 5 / 2`</span><br><span class="line">echo $re6</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 5.求余数</span></span><br><span class="line">re7=`expr 10 % 3`</span><br><span class="line"></span><br><span class="line">re8=`echo "10.2 + 5.1"|bc`</span><br><span class="line">echo $re8</span><br></pre></td></tr></table></figure>

<h6 id="2）-关系运算符-比较运算符-，比较的是数字大小"><a href="#2）-关系运算符-比较运算符-，比较的是数字大小" class="headerlink" title="2） 关系运算符(比较运算符)，比较的是数字大小"></a>2） 关系运算符(比较运算符)，比较的是数字大小</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> -eq  ---  等于,相当于 ==</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -ne  ---  不等于,相当于!=</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -gt  ---  大于</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -lt  ---  小于</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -ge  ---  大于等于</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -le  ---  小于等于</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 使用语法: [ 值1 关系运算符 值2 ]</span></span><br><span class="line">a=100</span><br><span class="line">b=10</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 关系运算符要配合<span class="keyword">if</span>语句或者循环语句使用</span></span><br><span class="line">if [ $a -gt $b ]</span><br><span class="line">then</span><br><span class="line">	echo a大于b</span><br><span class="line">else </span><br><span class="line">	echo a不大于b</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h6 id="3）布尔运算符-逻辑运算符"><a href="#3）布尔运算符-逻辑运算符" class="headerlink" title="3）布尔运算符(逻辑运算符)"></a>3）布尔运算符(逻辑运算符)</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> !    --  逻辑非运算</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -o   --  逻辑或运算</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> -a   --  逻辑与运算</span></span><br><span class="line"></span><br><span class="line">age=18</span><br><span class="line">score=95</span><br><span class="line"><span class="meta">#</span><span class="bash"> 参加比赛的条件：分数大于90分并且年龄大于等于18岁</span></span><br><span class="line">if [ $age -ge 18 -a $score -gt 90 ]</span><br><span class="line">then</span><br><span class="line">	echo 可以参见比赛</span><br><span class="line">else</span><br><span class="line">	echo 不能参加比赛</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>

<h6 id="4）字符串运算符"><a href="#4）字符串运算符" class="headerlink" title="4）字符串运算符"></a>4）字符串运算符</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> [ 字符串1 = 字符串2 ]    -- 判断两个字符串是否相等</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> [ 字符串1 != 字符串2 ]   -- 不相等</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> [ -z 字符串]   -- 判断字符串长度是否为0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> [ -n <span class="string">"字符串"</span> ]    -- 判断字符串长度是否不为0</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> [ $ 字符串 ]   -- 判断字符串是否是空串</span></span><br><span class="line"></span><br><span class="line">a="abc"</span><br><span class="line">b="123"</span><br><span class="line"></span><br><span class="line">if [ $a = $b ]</span><br><span class="line">then</span><br><span class="line">    echo a和b相等</span><br><span class="line">else</span><br><span class="line">    echo a和b不相等</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">a=""</span><br><span class="line">if [ -n "$&#123;a&#125;" ]</span><br><span class="line">then</span><br><span class="line">    echo a的长度不为0</span><br><span class="line">else</span><br><span class="line">    echo a的长度为0</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>



<h5 id="6-if语句"><a href="#6-if语句" class="headerlink" title="6. if语句"></a>6. if语句</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">语法1：</span><br><span class="line">if 条件语句</span><br><span class="line">then</span><br><span class="line">    满足条件执行的代码</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line">语法2:</span><br><span class="line">if 条件语句</span><br><span class="line">then</span><br><span class="line">    满足条件执行的代码</span><br><span class="line">else</span><br><span class="line">    不满足条件执行的代码</span><br><span class="line">fi</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">语法3：</span><br><span class="line">if 条件语句1</span><br><span class="line">then </span><br><span class="line">    代码块1</span><br><span class="line">elif 条件语句2</span><br><span class="line">then</span><br><span class="line">    代码块2</span><br><span class="line">elif 条件语句3</span><br><span class="line">then </span><br><span class="line">    代码块3</span><br><span class="line">else</span><br><span class="line">    代码块N</span><br><span class="line">fi</span><br></pre></td></tr></table></figure>



<h5 id="7-for循环"><a href="#7-for循环" class="headerlink" title="7. for循环"></a>7. for循环</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">语法:</span><br><span class="line">for 变量 in 序列</span><br><span class="line">do</span><br><span class="line">    循环体</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 遍历字符串</span></span><br><span class="line">for char in "hello word"</span><br><span class="line">do</span><br><span class="line">    echo 循环体char: $&#123;char&#125;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 遍历数组</span></span><br><span class="line">arr1=(10 20 "abc")</span><br><span class="line">for x in $&#123;arr1[@]&#125;</span><br><span class="line">do</span><br><span class="line">    echo 循环体2x: $&#123;x&#125;</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 遍历多个值</span></span><br><span class="line">for x in 10 20 "你好" 123</span><br><span class="line">do</span><br><span class="line">    echo 循环体3：$&#123;x&#125;</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h5 id="8-while循环"><a href="#8-while循环" class="headerlink" title="8. while循环"></a>8. while循环</h5><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">语法:</span><br><span class="line">while 条件语句</span><br><span class="line">do</span><br><span class="line">    循环体</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 遍历字符串</span></span><br><span class="line">str1="helloWorld!"</span><br><span class="line">index=0</span><br><span class="line">len=$&#123;#str1&#125;</span><br><span class="line">while [ $index -lt $len ]</span><br><span class="line">do</span><br><span class="line">    echo $&#123;str1:$&#123;index&#125;:1&#125;</span><br><span class="line">    index=`expr $&#123;index&#125; + 1`</span><br><span class="line">done</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 计算1+2+3+...+100</span></span><br><span class="line">num=1</span><br><span class="line">sum=0</span><br><span class="line">while [ $&#123;num&#125; -le 100 ]</span><br><span class="line">do</span><br><span class="line">    sum=`expr $&#123;sum&#125; + $&#123;num&#125;`</span><br><span class="line">    num=`expr $&#123;num&#125; + 1`</span><br><span class="line">done</span><br><span class="line">echo 1+2+3+...+100 = $&#123;sum&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 死循环</span></span><br><span class="line">while true</span><br><span class="line">do</span><br><span class="line">    read -p "请输入一个数字:" num</span><br><span class="line">    if [ $&#123;num&#125; == 100 ]</span><br><span class="line">    then</span><br><span class="line">        break</span><br><span class="line">    fi</span><br><span class="line">done</span><br></pre></td></tr></table></figure>

<h5 id="9-函数"><a href="#9-函数" class="headerlink" title="9.函数"></a>9.函数</h5><h6 id="1）函数的声明和调用"><a href="#1）函数的声明和调用" class="headerlink" title="1）函数的声明和调用"></a>1）函数的声明和调用</h6><figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 1.函数的声明</span></span><br><span class="line">声明的语法：</span><br><span class="line">函数名()&#123;</span><br><span class="line">    函数体</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">调用函数语法:  函数名</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash">声明函数</span></span><br><span class="line">func1()&#123;</span><br><span class="line">    echo 你好函数1</span><br><span class="line">&#125;</span><br><span class="line"><span class="meta">#</span><span class="bash">调用函数</span></span><br><span class="line">func1</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 2.有参数的函数</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 声明的时候不需要形参, 直接在函数体中通过<span class="string">'$&#123;N&#125;'</span>来获取第N个实参</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> 调用的时候:  函数名 实参1 实参2 实参3 ...</span></span><br><span class="line">func2()&#123;</span><br><span class="line">    echo 函数2被调用</span><br><span class="line">    echo 第一个参数: $&#123;1&#125;</span><br><span class="line">    echo 第二个参数: $&#123;2&#125;</span><br><span class="line">    echo 第三个参数: $&#123;3&#125; </span><br><span class="line">&#125;</span><br><span class="line">func2 10 20 "abc"</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 3.函数的返回值</span></span><br><span class="line"><span class="meta">#</span><span class="bash"> <span class="built_in">return</span> 数字   - 数字的范围是0~255</span></span><br><span class="line">func3()&#123;</span><br><span class="line">    echo 函数3被调用</span><br><span class="line">    return 256</span><br><span class="line">    #a=`expr 100 + 200`</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">func3</span><br><span class="line">echo $&#123;?&#125;</span><br></pre></td></tr></table></figure>











]]></content>
      <categories>
        <category>shell</category>
      </categories>
      <tags>
        <tag>shell</tag>
        <tag>linux</tag>
      </tags>
  </entry>
  <entry>
    <title>关系数据库入门</title>
    <url>/2019/12/21/%E5%85%B3%E7%B3%BB%E6%95%B0%E6%8D%AE%E5%BA%93%E5%85%A5%E9%97%A8/</url>
    <content><![CDATA[<h2 id="关系数据库入门"><a href="#关系数据库入门" class="headerlink" title="关系数据库入门"></a>关系数据库入门</h2><h3 id="关系数据库概述"><a href="#关系数据库概述" class="headerlink" title="关系数据库概述"></a>关系数据库概述</h3><ol>
<li>数据持久化 - 将数据保存到能够长久保存数据的存储介质中，在掉电的情况下数据也不会丢失。</li>
</ol>
<ul>
<li>将数据写入到文件；缺点：不方便取出数据和查找数据 。</li>
<li>用Excel表格；缺点：不方便查找和修改数据。</li>
<li>数据库管理系统</li>
</ul>
<ol start="2">
<li><p>数据库 - 数据的集散地（仓库）<br>  优点：不仅可以保存数据，更重要的是能够很好的管理数据，方便将来对数据的检索，大多数的数据库都能够保证数据的一致性、完整性并减少数据的冗余</p>
</li>
<li><p>数据库发展史 -  网状数据库、层次数据库、关系数据库、NoSQL数据库。</p>
</li>
</ol>
<blockquote>
<p>1970s，IBM的研究员E.F.Codd在Communication of the ACM上发表了名为A Relational Model of Data for Large Shared Data Banks的论文，提出了关系模型的概念，奠定了关系模型的理论基础。后来Codd又陆续发表多篇文章，论述了范式理论和衡量关系系统的12条标准，用数学理论奠定了关系数据库的基础。</p>
</blockquote>
<ol start="4">
<li>关系数据库的特点</li>
</ol>
<ul>
<li>理论基础：集合论和关系代数。</li>
<li>具体表象：用二维表（行 - 记录  列 - 字段）组织数据。</li>
<li>理论基础：集合论和关系代数。</li>
</ul>
<h3 id="MySQL简介"><a href="#MySQL简介" class="headerlink" title="MySQL简介"></a>MySQL简介</h3><p>MySQL最早是由瑞典的MySQL AB公司开发的一个开放源码的关系数据库管理系统，该公司于2008年被昇阳微系统公司（Sun Microsystems）收购。在2009年，甲骨文公司（Oracle）收购昇阳微系统公司，因此在这之后MySQL成为了Oracle旗下产品。</p>
<p>MySQL在过去由于性能高、成本低、可靠性好，已经成为最流行的开源数据库，因此被广泛地应用于中小型网站开发。随着MySQL的不断成熟，它也逐渐被应用于更多大规模网站和应用，比如维基百科、谷歌（Google）、脸书（Facebook）、淘宝网等网站都使用了MySQL来提供数据持久化服务。</p>
<p>甲骨文公司收购后昇阳微系统公司，大幅调涨MySQL商业版的售价，且甲骨文公司不再支持另一个自由软件项目OpenSolaris的发展，因此导致自由软件社区对于Oracle是否还会持续支持MySQL社区版（MySQL的各个发行版本中唯一免费的版本）有所担忧，MySQL的创始人麦克尔·维德纽斯以MySQL为基础，成立分支计划MariaDB（以他女儿的名字命名的数据库）。有许多原来使用MySQL数据库的公司（例如：维基百科）已经陆续完成了从MySQL数据库到MariaDB数据库的迁移。</p>
<p><strong>安装和配置</strong>（在CentOS7 Linux环境下）</p>
<ul>
<li>MySQL有一个分支版本名叫MariaDB，它们的底层库是冲突的，要安装MySQL,必须先保证系统中没有MariaDB相关的文件。如果系统上有MariaDB相关的文件，需要先移除MariaDB相关的文件。</li>
</ul>
<p><code>yum list installed | grep mariadb | awk &#39;{print $1}&#39; | xargs yum erase -y</code></p>
<ul>
<li>下载</li>
</ul>
<p><code>wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar</code></p>
<ul>
<li>解归档</li>
</ul>
<p><code>tar -xvf mysql-5.7.26-1.el7.x86_64.rpm-bundle.tar</code></p>
<ul>
<li>接下来可以按照如下所示的顺序用RPM（Redhat Package Manager）工具安装MySQL。</li>
</ul>
<figure class="highlight css"><table><tr><td class="code"><pre><span class="line"><span class="selector-tag">rpm</span> <span class="selector-tag">-ivh</span> <span class="selector-tag">mysql-community-common-5</span><span class="selector-class">.7</span><span class="selector-class">.26-1</span><span class="selector-class">.el7</span><span class="selector-class">.x86_64</span><span class="selector-class">.rpm</span></span><br><span class="line"><span class="selector-tag">rpm</span> <span class="selector-tag">-ivh</span> <span class="selector-tag">mysql-community-libs-5</span><span class="selector-class">.7</span><span class="selector-class">.26-1</span><span class="selector-class">.el7</span><span class="selector-class">.x86_64</span><span class="selector-class">.rpm</span></span><br><span class="line"><span class="selector-tag">rpm</span> <span class="selector-tag">-ivh</span> <span class="selector-tag">mysql-community-client-5</span><span class="selector-class">.7</span><span class="selector-class">.26-1</span><span class="selector-class">.el7</span><span class="selector-class">.x86_64</span><span class="selector-class">.rpm</span></span><br><span class="line"><span class="selector-tag">rpm</span> <span class="selector-tag">-ivh</span> <span class="selector-tag">mysql-community-server-5</span><span class="selector-class">.7</span><span class="selector-class">.26-1</span><span class="selector-class">.el7</span><span class="selector-class">.x86_64</span><span class="selector-class">.rpm</span></span><br></pre></td></tr></table></figure>

<ul>
<li>接下来启动MySQL服务器</li>
</ul>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line">启动服务器：</span><br><span class="line">systemctl start mysqld /<span class="built_in"> service </span>mysqld start</span><br><span class="line">关闭服务器：</span><br><span class="line">systemctl stop mysqld /<span class="built_in"> service </span>mysqld stop</span><br><span class="line">重启服务器：</span><br><span class="line">systemctl restart mysqld</span><br></pre></td></tr></table></figure>

<ul>
<li>查看运行状态和网络状态</li>
</ul>
<figure class="highlight properties"><table><tr><td class="code"><pre><span class="line"><span class="attr">systemctl</span> <span class="string">status mysqld</span></span><br><span class="line"><span class="attr">netstat</span> <span class="string">-ntlp | grep mysql</span></span><br></pre></td></tr></table></figure>

<ul>
<li>在日志文件中找出root用户的临时密码</li>
</ul>
<p><code>cat /var/log/mysqld.log | grep &quot;A temporary password&quot;</code></p>
<ul>
<li>通过MySQL客户端工具连接服务器</li>
</ul>
<p><code>mysql -uroot -p</code></p>
<ul>
<li>输入临时密码进入，此时不能做任何事情，因为MySQL默认必须修改密码之后才能操作数据库：</li>
</ul>
<p><code>ALTER USER &#39;root&#39;@&#39;localhost&#39; IDENTIFIED BY &#39;新密码&#39;;</code></p>
<p>这里有个问题，新密码设置的时候如果设置的过于简单会报错；原因是因为MySQL有密码设置的规范，具体是与validate_password_policy的值有关，可以降低密码强度。</p>
<ul>
<li><p>密码强度设为最低，长度为6，就可以修改密码了</p>
<figure class="highlight routeros"><table><tr><td class="code"><pre><span class="line"><span class="builtin-name">set</span> global <span class="attribute">validate_password_policy</span>=0;</span><br><span class="line"><span class="builtin-name">set</span> global <span class="attribute">validate_password_length</span>=6;</span><br><span class="line">ALTER<span class="built_in"> USER </span><span class="string">'root'</span>@<span class="string">'localhost'</span> IDENTIFIED BY <span class="string">'新密码'</span>;</span><br></pre></td></tr></table></figure>
</li>
<li><p>此时的root用户是没有权限的，接下来创建远程连接用户并赋予用户权限</p>
</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">'root'</span>@<span class="string">'%'</span> <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">'123456'</span>;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">privileges</span> <span class="keyword">on</span> *.* <span class="keyword">to</span> <span class="string">'root'</span>@<span class="string">'%'</span> <span class="keyword">with</span> <span class="keyword">grant</span> <span class="keyword">option</span>;</span><br></pre></td></tr></table></figure>

<ul>
<li>刷新权限</li>
</ul>
<p><code>flush privileges;</code></p>
<p><strong>常用命令</strong></p>
<ul>
<li>查看服务器版本</li>
</ul>
<p><code>select version();</code></p>
<ul>
<li>查看当前所有数据库</li>
</ul>
<p><code>show databases;</code></p>
<ul>
<li>切换到指定数据库</li>
</ul>
<p><code>use 数据库名;</code></p>
<ul>
<li>查看当前数据库下所有表</li>
</ul>
<p><code>show tables;</code></p>
<ul>
<li>查看当前使用的数据库</li>
</ul>
<p><code>select database();</code></p>
<ul>
<li>查看当前版本</li>
</ul>
<p><code>select version();</code></p>
<ul>
<li>查看当前时间</li>
</ul>
<p><code>select now();</code></p>
<ul>
<li>显示数据库的创建和数据表的创建</li>
</ul>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">database</span> 数据库名;</span><br><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> <span class="keyword">table</span> 数据表名;</span><br></pre></td></tr></table></figure>

<ul>
<li>获取帮助</li>
</ul>
<figure class="highlight pgsql"><table><tr><td class="code"><pre><span class="line">? contents;</span><br><span class="line">? <span class="keyword">functions</span>;</span><br><span class="line">? <span class="type">numeric</span> <span class="keyword">functions</span>;</span><br><span class="line">? round;</span><br><span class="line"></span><br><span class="line">? data <span class="keyword">types</span>;</span><br><span class="line">? longblob;</span><br></pre></td></tr></table></figure>


<h3 id="SQL详解"><a href="#SQL详解" class="headerlink" title="SQL详解"></a>SQL详解</h3><p><strong>基本操作</strong></p>
<p>我们通常可以将SQL分为三类：DDL（数据定义语言）、DML（数据操作语言）和DCL（数据控制语言）。<br>DDL主要用于创建（create）、删除（drop）、修改（alter）数据库中的对象，比如创建、删除和修改二维表；<br>DML主要负责插入数据（insert）、删除数据（delete）、更新数据（update）和查询（select）；<br>DCL通常用于授予权限（grant）和召回权限（revoke）。</p>
<blockquote>
<p>说明：SQL是不区分大小写的语言</p>
</blockquote>
<ol>
<li><p>DDL</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 0. 删除数据库: drop database 数据库名;</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">DATABASE</span> school;   <span class="comment">-- 直接删除指定数据库</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">DATABASE</span> <span class="keyword">if</span> <span class="keyword">EXISTS</span> school;   <span class="comment">-- 如果指定的数据库存在就删除数据库</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.创建数据库: create database 数据库名;</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> school;  <span class="comment">-- 直接创建指定数据库</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">database</span> <span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">EXISTS</span> school;  </span><br><span class="line"><span class="comment">-- 当指定数据库不存在的时候才创建数据库</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">database</span> <span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">EXISTS</span> school <span class="keyword">default</span> <span class="keyword">charset</span> utf8;   </span><br><span class="line"><span class="comment">-- 创建数据库的时候设置字符集编码方式为utf8,让数据库支持中文数据的存储</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 2.使用/切换/数据库: use 数据库名;</span></span><br><span class="line"><span class="keyword">use</span> school;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 3.新建表: create table if not exists 表名(字段名1 类型1, 字段2 类型2,...);</span></span><br><span class="line"><span class="comment">-- 注意： a. 表名一般需要加前缀't'或者'tb'    </span></span><br><span class="line">		 b.字段用来确定表中要存储哪些数据，字段名随便命名但是不能是关键字  </span><br><span class="line">		 c.数据类型必须是MySQL支持的数据类型</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 常用数据类型: int-整数, char(size)-定长字符串, varchar(size)-不定长字符串, text-字符串, bit-布尔, date-日期</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">EXISTS</span> t_student(stuid <span class="built_in">int</span>, stuname <span class="built_in">varchar</span>(<span class="number">20</span>), gender <span class="built_in">bit</span>, birth <span class="built_in">date</span>);  </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 新建表并且添加约束: create table if not exists 表名(字段名1 类型1 约束1, 字段2 类型2 约束2,...);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 常见约束: not null - 不为空,  default  - 设置默认值,  unique - 值唯一,  primary key - 主键约束 </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 主键约束:  主键的值可以确定列表中唯一一条记录(通过一个主键值可以找到表中的唯一一条记录)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 注意: auto_increment只针对主键有效,并且主键的类型是整型;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> <span class="keyword">if</span> <span class="keyword">not</span> <span class="keyword">EXISTS</span> t_student</span><br><span class="line">(</span><br><span class="line">stuid <span class="built_in">int</span> <span class="keyword">not</span> <span class="literal">null</span> auto_increment, </span><br><span class="line">stuname <span class="built_in">varchar</span>(<span class="number">20</span>) <span class="keyword">not</span> <span class="literal">null</span>, </span><br><span class="line">gender <span class="built_in">bit</span> <span class="keyword">DEFAULT</span> <span class="number">1</span>, </span><br><span class="line">birth <span class="built_in">date</span>,</span><br><span class="line">PRIMARY <span class="keyword">KEY</span>(stuid)  <span class="comment">-- 将字段stuid作为当前表的主键（设置主键可以间接约束这个字段的值是唯一的）</span></span><br><span class="line">);</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 4.删除表: DROP TABLE if EXISTS 表名;</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">TABLE</span> <span class="keyword">if</span> <span class="keyword">EXISTS</span> t_student;  </span><br><span class="line"><span class="comment">-- 清空表中的数据: TRUNCATE TABLE 表名;	</span></span><br><span class="line"><span class="keyword">TRUNCATE</span> <span class="keyword">TABLE</span> t_student;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 5.修改表</span></span><br><span class="line"><span class="comment">-- 5.1 添加列: alter TABLE 表名 add COLUMN 字段名 字段类型 约束;</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">TABLE</span> t_student <span class="keyword">add</span> <span class="keyword">COLUMN</span> score <span class="built_in">FLOAT</span>(<span class="number">8</span>,<span class="number">2</span>) <span class="keyword">DEFAULT</span> <span class="number">0</span>;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">TABLE</span> t_student <span class="keyword">add</span> <span class="keyword">COLUMN</span> addr <span class="built_in">VARCHAR</span>(<span class="number">100</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 5.2 删除列: alter TABLE 表名 drop COLUMN 字段名;</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">TABLE</span> t_student <span class="keyword">drop</span> <span class="keyword">COLUMN</span> gender;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 5.3 修改列: alter TABLE 表名 modify 字段名 字段类型 约束; （不重命名）</span></span><br><span class="line"><span class="comment">--	   修改列: alter TABLE 表名 change 原字段名 新字段名 字段类型 约束;	（重命名）</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>DML</p>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 1.增(添加数据/记录)</span></span><br><span class="line"><span class="comment">-- 1.1插入数据/记录: insert into 表名 values(值1, 值2, 值3,....)  - 依次给指定表中的字段赋值</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">into</span> t_student <span class="keyword">VALUES</span>(<span class="number">100</span>, <span class="string">'张三'</span>, <span class="number">0</span>, <span class="string">'2019-9-23'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 1.2插入数据/记录: insert into 表名(字段名1,字段名2,...) values(值1, 值2,...) -以指定的顺序给指定的字段赋值  </span></span><br><span class="line"><span class="comment">-- 一次插入一条记录</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">into</span> t_student(stuname, birth) <span class="keyword">VALUES</span>(<span class="string">"小花"</span>, <span class="built_in">date</span>(<span class="keyword">now</span>()));   </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 一次插入多条记录</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">into</span> t_student(stuname, birth) <span class="keyword">VALUES</span></span><br><span class="line">(<span class="string">"小花"</span>, <span class="built_in">date</span>(<span class="keyword">now</span>())),</span><br><span class="line">(<span class="string">'小明'</span>, <span class="string">'2018-9-8'</span>),</span><br><span class="line">(<span class="string">'路飞'</span>, <span class="string">'1999-12-16'</span>),</span><br><span class="line">(<span class="string">'佐助'</span>, <span class="string">'2000-10-12'</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 值的问题: sql中是数字对应的值直接写，字符串需要使用引号引起来，bit类型的值只有0或者1, 时间可以用内容是满足时间格式字符串也可以是通过时间函数获取的值</span></span><br><span class="line"><span class="comment">-- 时间函数: now() - 当前时间  date(now()) - 当前日期   year(now()) - 当前年   month(now()) - 当前月 ....  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 2.删（删除数据/记录） </span></span><br><span class="line"><span class="comment">-- delete from 表名;    - 删除指定表中所有记录</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> t_student;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- delete from 表名 where 条件语句;    - 删除满足条件的记录  </span></span><br><span class="line"><span class="comment">-- SQL中的条件语句: =(判断是否相等), &lt;&gt;(不等于,和python中的!=功能一样), &gt;, &lt;, &gt;=, &lt;=</span></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> t_student <span class="keyword">WHERE</span> stuid=<span class="number">100</span>;     </span><br><span class="line"><span class="comment">-- 删除t_student表中stuid的值等于100的记录  </span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> t_student <span class="keyword">WHERE</span> stuname=<span class="string">'小花'</span>;  </span><br><span class="line"><span class="comment">-- 删除t_student表中stuname的值等于'小花'的记录</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">DELETE</span> <span class="keyword">FROM</span> t_student <span class="keyword">WHERE</span> stuid&lt;<span class="number">108</span>;   </span><br><span class="line"><span class="comment">-- 删除t_student表中stuid的值小于'小花'的记录  </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 3.改(修改数据/记录) </span></span><br><span class="line"><span class="comment">-- update 表名 set 字段1=新值1, 字段2=新值2,...;  	- 将指定表中所有行的指定列/字段的值赋值为新值</span></span><br><span class="line"><span class="keyword">UPDATE</span> t_student <span class="keyword">set</span> birth=<span class="string">'1999-10-1'</span>, gender=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- update 表名 set 字段1=新值1, 字段2=新值2,... where 条件语句;  -将表中满足条件的行中指定字段的值赋值为新值  </span></span><br><span class="line"><span class="keyword">UPDATE</span> t_student <span class="keyword">set</span> gender=<span class="number">0</span> <span class="keyword">WHERE</span> stuname=<span class="string">'小花'</span>;</span><br><span class="line"><span class="comment">-- 通配符%: 表示任意个数的任意字符（包括0个）</span></span><br><span class="line"><span class="keyword">UPDATE</span> t_student <span class="keyword">set</span> birth=<span class="string">'2000-01-01'</span> <span class="keyword">WHERE</span> stuname <span class="keyword">LIKE</span> <span class="string">'小%'</span>; </span><br><span class="line"><span class="comment">-- 修改stuname是以'小'开头的行对应的birth的值</span></span><br><span class="line"><span class="keyword">UPDATE</span> t_student <span class="keyword">set</span> birth=<span class="string">'2111-01-01'</span> <span class="keyword">WHERE</span> stuname <span class="keyword">LIKE</span> <span class="string">'%小%'</span>;</span><br><span class="line"><span class="comment">-- 统配符_: 表示一个任意字符</span></span><br><span class="line"><span class="keyword">UPDATE</span> t_student <span class="keyword">set</span> birth=<span class="string">'2444-01-01'</span> <span class="keyword">WHERE</span> stuname <span class="keyword">LIKE</span> <span class="string">'小_'</span>;    <span class="comment">--  修改stuname只有两个字符，并且第一个字符是‘小’对应的行的birth的值</span></span><br><span class="line"><span class="comment">-- 注意: 通配符只针对字符串有效!  </span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 4.查(获取数据)</span></span><br><span class="line"><span class="comment">-- 4.1直接查询</span></span><br><span class="line"><span class="comment">-- select * from 表名;         		   - 获取指定表中所有行和所有的列(所有数据)</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t_student;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- select 字段名1,字段名2,... from 表名;   - 获取指定表中所有行指定的列 </span></span><br><span class="line"><span class="keyword">SELECT</span> stuname,stuid <span class="keyword">FROM</span> t_student;   </span><br><span class="line"></span><br><span class="line"><span class="comment">-- select * from 表名 where 条件;         - 获取指定表中所有满足条件的行所有列的数据  </span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t_student <span class="keyword">WHERE</span> stuid&gt;<span class="number">115</span>;    </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 4.2列重命名</span></span><br><span class="line"><span class="comment">-- select 字段1 as 新字段1, 字段2 as 新字段2,... from 表名;</span></span><br><span class="line"><span class="comment">-- 注意： 这儿的as可以省略</span></span><br><span class="line"><span class="keyword">SELECT</span> stuid <span class="keyword">as</span> <span class="string">'学号'</span>, stuname, gender <span class="keyword">as</span> <span class="string">'性别'</span> <span class="keyword">FROM</span> t_student;    </span><br><span class="line"><span class="comment">-- 对查询结果中的stuid和gender字段进行重命名</span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 4.3对查询结果重新赋值(一般针对布尔数据)</span></span><br><span class="line"><span class="comment">-- select if(字段名,值1,值2) from 表名;    -查询指定字段，并且判断字段对应的值是0还是1，如果是1结果为值1，否则为值2</span></span><br><span class="line"><span class="comment">-- 注意: 这儿的if的用法是MySQL专有的</span></span><br><span class="line"><span class="comment">-- MySQL写法: if(字段, 新值1, 新值2)</span></span><br><span class="line"><span class="keyword">SELECT</span> stuname,<span class="keyword">if</span>(gender,<span class="string">'男'</span>,<span class="string">'女'</span>) <span class="keyword">as</span> <span class="string">'性别'</span> <span class="keyword">FROM</span> t_student;    </span><br><span class="line"><span class="comment">-- 通用写法:  case 字段 when 值 then 新值1 else 新值2 end</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">case</span> gender <span class="keyword">WHEN</span> <span class="number">1</span> <span class="keyword">THEN</span> <span class="string">'男'</span> <span class="keyword">ELSE</span> <span class="string">'女'</span> <span class="keyword">END</span> <span class="keyword">as</span> <span class="string">'性别'</span> <span class="keyword">FROM</span> t_student;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 4.4对列进行合并</span></span><br><span class="line"><span class="comment">-- select concat(字段1,字段2,...) from 表名;</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CONCAT</span>(stuname,stuid) <span class="keyword">as</span> <span class="string">'name_id'</span> <span class="keyword">FROM</span> t_student;</span><br><span class="line"><span class="keyword">SELECT</span> <span class="keyword">CONCAT</span>(stuname,<span class="string">':'</span>,stuid) <span class="keyword">as</span> <span class="string">'name_id'</span> <span class="keyword">FROM</span> t_student;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 注意: 数字和字符串数据可以合并，bit类型的数据不可以合并</span></span><br><span class="line"><span class="comment">-- SELECT CONCAT(stuname,':',gender) as 'name_id' FROM t_student;   </span></span><br><span class="line"></span><br><span class="line"><span class="comment">-- 4.5模糊查询 - 查询的时候时候通过like条件来指定查询对象</span></span><br><span class="line"><span class="comment">-- sql中支持逻辑运算符and(逻辑与运算)和or(逻辑或运算)，not(逻辑非)</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t_student <span class="keyword">WHERE</span> stuname <span class="keyword">like</span> <span class="string">'%飞%'</span> <span class="keyword">or</span> <span class="keyword">not</span> stuid &lt; <span class="number">110</span>;  </span><br><span class="line"></span><br><span class="line"><span class="comment">-- 4.6排序(先按之前的任何语法进行查询在排序)</span></span><br><span class="line"><span class="comment">-- select * from 表名 order by 字段;            - 对查询结果按照指定字段的值进行升序排序 </span></span><br><span class="line"><span class="comment">-- select * from 表名 order by 字段 asc;        - 对查询结果按照指定字段的值进行升序排序 </span></span><br><span class="line"><span class="comment">-- select * from 表名 order by 字段 desc;       - 对查询结果按照指定字段的值进行降序排序</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t_student <span class="keyword">ORDER</span> <span class="keyword">BY</span> gender;      <span class="comment">-- 按性别升序排序</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t_student <span class="keyword">ORDER</span> <span class="keyword">BY</span> stuid <span class="keyword">ASC</span>;   <span class="comment">-- 按学号升序排序</span></span><br><span class="line"><span class="keyword">SELECT</span> * <span class="keyword">FROM</span> t_student <span class="keyword">ORDER</span> <span class="keyword">BY</span> stuid <span class="keyword">DESC</span>;  <span class="comment">-- 按学号降序排序</span></span><br></pre></td></tr></table></figure>
</li>
<li><p>DCL</p>
</li>
</ol>
<figure class="highlight sql"><table><tr><td class="code"><pre><span class="line"><span class="comment">-- 创建可以远程登录的root账号并为其指定口令</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">'root'</span>@<span class="string">'%'</span> <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">'123456'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 为远程登录的root账号授权操作所有数据库所有对象的所有权限并允许其将权限再次赋予其他用户</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">privileges</span> <span class="keyword">on</span> *.* <span class="keyword">to</span> <span class="string">'root'</span>@<span class="string">'%'</span> <span class="keyword">with</span> <span class="keyword">grant</span> <span class="keyword">option</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 创建名为hellokitty的用户并为其指定口令</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">'hellokitty'</span>@<span class="string">'%'</span> <span class="keyword">identified</span> <span class="keyword">by</span> <span class="string">'123123'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 将对school数据库所有对象的所有操作权限授予hellokitty</span></span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">privileges</span> <span class="keyword">on</span> school.* <span class="keyword">to</span> <span class="string">'hellokitty'</span>@<span class="string">'%'</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">-- 召回hellokitty对school数据库所有对象的insert/delete/update权限</span></span><br><span class="line"><span class="keyword">revoke</span> <span class="keyword">insert</span>, <span class="keyword">delete</span>, <span class="keyword">update</span> <span class="keyword">on</span> school.* <span class="keyword">from</span> <span class="string">'hellokitty'</span>@<span class="string">'%'</span>;</span><br></pre></td></tr></table></figure>



]]></content>
      <categories>
        <category>mysql</category>
      </categories>
      <tags>
        <tag>mysql</tag>
      </tags>
  </entry>
  <entry>
    <title>常用Linux系统指令</title>
    <url>/2019/12/21/%E5%B8%B8%E7%94%A8Linux%E7%B3%BB%E7%BB%9F%E6%8C%87%E4%BB%A4/</url>
    <content><![CDATA[<h3 id="常用linux指令"><a href="#常用linux指令" class="headerlink" title="常用linux指令"></a>常用linux指令</h3><p>命令名称 [命名参数] [命令对象]</p>
<h4 id="一、日常操作"><a href="#一、日常操作" class="headerlink" title="一、日常操作"></a>一、日常操作</h4><p>1.cd指令           -         进入指定文件夹</p>
<p>cd  目录             -         进入指定目录(也可以是文件夹对应的路径)</p>
<p>​                               ~相对路径 — 绝对路径</p>
<p>cd  ..           -         返回上层目录</p>
<p>cd  ~            -         回到根目录</p>
<p>cd  /           -         进入系统根目录</p>
<p>\2. ls指令              -             查看当前目录中的内容</p>
<p>ls</p>
<p>ls  -l/-lh                 -             查看详情</p>
<p>ls -a                       -             隐藏文件也一起显示</p>
<p>ls -R                       -             递归显示所有内容</p>
<p>ls -S/-t                   -              按大小/时间排序</p>
<p>注意: 多个功能不冲突的参数可以同时使用，中间用空格隔开, 例如 -  (ls -lh -S)</p>
<p>3.pwd指令             -         显示当前完整目录</p>
<p>pwd</p>
<p>4.文件操作指令</p>
<p>touch  文件名            -         新建文件</p>
<p>cat 文件名                  -         查看文件内容</p>
<p>vim/vi  文件名            -         打开文件</p>
<p>rm    文件名                        -         删除文件(询问是否删除)</p>
<p>rm -f  文件名                      -         强制删除文件(不询问)</p>
<p>rm - r 目录                         -         删除文件夹</p>
<p>rm -rf   目录、 rm -r  -f 目录       -          删除文件夹(不询问)</p>
<p>cp  文件名1  文件名2                    -             将文件1中的内容拷贝到文件2中</p>
<p>cp  文件  目录                                -              将指定文件拷贝到指定目录中</p>
<p>cp -r  文件名/目录名   目录2        -             将文件/目录拷贝到目录2中</p>
<p>mv    文件名1  文件名2                -         将文件1中的内容移动到文件2中 ,并且删除文件1（文件重命名）</p>
<p>mv  文件1路径   文件2路径</p>
<p>mv 文件名1  新文件名                -           重命名</p>
<p>mv    文件名1  文件目录                -         将文件1移动到指定目录中  </p>
<p>注意: mv指令不能加-r来操作目录</p>
<p>(注意：cp/mv/rm 后面可以跟：     -i询问  -f强制  -n不覆盖)</p>
<p>mkdir  目录名                            -              新建文件夹</p>
<p>mkdir -p a/b/c                           -             按层级创建a,b,c三个文件夹</p>
<p>mkdir -p a/{b,c}/{d,e,f}            -              同一层级常见多个</p>
<p>rmdir  目录名                    -         删除指定空目录</p>
<p>7.history                        -             显示历史指令记录</p>
<p>根目录下bashrc 配置显示时间：    export  HISTTIMEFORMAT=”[%y‐%m‐%d_%T] “ </p>
<p>修改bashrc 后使其生效:      source ~/.bashrc  或 .  .bashrc   </p>
<p>6.链接</p>
<p>ln -s 源路径  目标路径            -         给源路径对应的文件在目标路径下创建一个软链接(可以看成是快捷键)(源路径是绝对路径) (掌握！)</p>
<p>ln 源路径  目标路径                -         给源路径对应的文件在目标路径下创建一个硬链接(看成一个数据的多个引用)（了解）</p>
<p>注意: 源文件不存在的时候，软链接直接无效，硬链接变成普通文件</p>
<p>8.快捷键</p>
<p>ctr + f         -     前进一个字符</p>
<p>ctr + b        -     后退一个字符</p>
<p>ctr + a        -     回到行首</p>
<p>ctr + e         -     回到行尾</p>
<p>ctr + w        -     向左删除一个单词</p>
<p>ctr + u        -     向左删除全部</p>
<p>ctr + k        -     向右删除全部</p>
<p>ctr + y        -     粘贴上次删除的内容</p>
<p>ctr + l        -     清屏  </p>
<h4 id="二、进程相关指令"><a href="#二、进程相关指令" class="headerlink" title="二、进程相关指令"></a>二、进程相关指令</h4><p>1.ps指令</p>
<p>ps                                             -         进程状态</p>
<p>ps -aux  或者  ps ex              -         查看进程</p>
<p>ps -aux|grep 进程名            -         查看指定进程</p>
<p>ps grep  进程ID</p>
<p><a href="http://2.top" target="_blank" rel="noopener">2.top</a>指令</p>
<p>top                                         -         动态监控进程</p>
<p>top  -p PID1,PID2,….            -         动态监控指定进程</p>
<p>3.free指令</p>
<p>free -单位                                -         以指定单位查看内存, 例如 free -m (以Mb为单位显示内存状况), -g,  -k等！</p>
<p>4.kill指令</p>
<p>kill 进程号                                    -         杀死指定的进程</p>
<p>kill -1/-9/-15 进程号                    -         -1(HUP)不间断重启，-9(KILL)强制杀死进程, -15(TERM)正常终止进程  </p>
<p>pkill  进程名                                -         按名字处理进程</p>
<p>killall 进程名                                -         处理名字匹配的进程</p>
<p>5.uptime                                    -         查看系统状态</p>
<h4 id="三、权限管理"><a href="#三、权限管理" class="headerlink" title="三、权限管理"></a>三、权限管理</h4><p>1.user和group : 一个系统可以有多个用户和多个分组； 一个分组中可以有多个用户，一个用户在不同的分组中(多对多)</p>
<p>users                     -         查看当前用户</p>
<p>groups                 -         查看当前分组</p>
<p>groupadd  分组名                    -         添加分组   (能在/etc/group文件中查看到新的分组, root才有的权限)</p>
<p>useradd  用户名                    -         创建新的用户(还是在home中自动创建这个用户对应的文件夹， root才有的权限)</p>
<p>useradd    ‐G    分组名    ‐m ‐s /bin/bash 用户名        -         创建一个用户添加到指定的分组中(在home创建相应的文件夹)</p>
<p>usermod    -G     分组名     用户名                    -         修改分组(root才有的权限)</p>
<p>passwd    用户名                            -         修改密码（root才有权限）</p>
<p>passwd                                            -         修改当前账号密码</p>
<p>su  用户名                                -         切换用户身份(root不需要密码，其他用户需要密码)</p>
<p>sudo                                        -         以管理员执行其他程序</p>
<p>注意： a.在ubuntu需要将用户添加到sudo分组中，才能使用sudo以管理员的身份执行程序</p>
<p>​          b.在centOS中需要先执行vi 指令进入/etc/sudoers文件中在指定的位置添加内容</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"><span class="comment"># Allow root to run any commands anywhere</span></span></span><br><span class="line">root    ALL=(ALL)       ALL</span><br><span class="line">xiaoming ALL=(ALL)      ALL		# 自己添加的，xiaoming是用户名</span><br></pre></td></tr></table></figure>











<p>2.chmod(记住！) </p>
<p>chmod       权限值   文件                    -         修改指定文件的权限</p>
<p>chmod    [a,u,g,o][+,-][r,w,x]  文件            -         指定文件，给所有用户添加相应的权限</p>
<p>​                                                                      (a:所有，u:自己，g:同组，o:其他；</p>
<p>​                                                                    +:添加， - :取消；  r:读，w:写，x:执行)</p>
<p>chown  用户名     文件                -                 改变文件所有者</p>
<p>(权限制是三组二进制值)</p>
<p>self      group    other</p>
<p>rwx      rwx        rwx</p>
<p>111       101        001                -         自己读写可执行，同一分组的只读可执行，其他的只可执行</p>
<p>110      100        000</p>
<p>chmod      644      文件</p>
<p>chmod      777       文件</p>
<p>chmod     666        文件</p>
<h4 id="四、日志管理"><a href="#四、日志管理" class="headerlink" title="四、日志管理"></a>四、日志管理</h4><p>1.cat指令</p>
<p>cat       文件                -         查看文件内容</p>
<p>cat    -n    文件            -            查看文件内容，并且显示行号</p>
<p>2.查看部分</p>
<p>head   N  文件        -         查看前N行内容</p>
<p>tail    N    文件         -         查看后N行内容</p>
<p>3.</p>
<p>less  文件</p>
<p>​    -     按 j 向下</p>
<p>​    -     按 k 向上</p>
<p>​    -     按 f 向下翻屏</p>
<p>​    -     按b 向上翻屏</p>
<p>​    -     按 g 到全文开头</p>
<p>​    -     按 G 到全文结尾</p>
<p>​    -     按 Q 退出  </p>
<p>more [-N]  文件            - 和less差不多，这个是尽可能多，less是尽可能少的加载</p>
<ol start="4">
<li>处理(对通过其他指令获取的结果进行处理)</li>
</ol>
<p>sort                  -         排序  (cat 文件 |sort)</p>
<p>uniq                -         去重  (cat 文件 |uniq) - 只会去重相邻的重复是数据，一般结合sort一起使用:  |sort|uniq</p>
<figure class="highlight shell"><table><tr><td class="code"><pre><span class="line">awk '&#123;print $N&#125;'	# 打印第N列的内容 (例如：netstat -natp|awk '&#123;print $4&#125;')</span><br><span class="line"></span><br><span class="line">awk '&#123;print $N1,$N2,$N3,…&#125;'</span><br><span class="line"></span><br><span class="line">history |awk '&#123;print $4&#125;' |sort |uniq ‐c | sort ‐rnk 1 | head ‐n 3   		# 获取历史指令中，使用最频繁的三个指令</span><br></pre></td></tr></table></figure>





<p>uniq ‐c       -去重的时候统计每一行内容的重复出现的次数</p>
<p>sort -nk 1    - 数值大小从小到大排序</p>
<p>sort -nk 2   - 字符大小从小到大排序(默认)</p>
<p>sort -rnk 1    - 数值大小从大到小排序</p>
<p>sort -rnk 2   - 字符大小从大到小排序(默认)</p>
<p>5.重定向</p>
<p>执行获取数据的指令  &gt; 文件  （将执行指定的结果存储到文件中 - 覆盖原文件中内容）</p>
<p>执行获取数据的指令 &gt;&gt; 文件   (将执行指定的结果存储到文件中 - 在原文件的最后追加)</p>
<p>5.统计  </p>
<p>wc -c(字符)/-w(单词)/-l(行)  文件</p>
<p>6.查找</p>
<p>grep  查看对象    目录/文件  参数</p>
<p>​    </p>
<p>​    参数：</p>
<p>​        -i        忽略大小写:         grep you bb.txt   -i</p>
<p>​        -n       显示行标号：      grep you bb.txt -n   /   grep you bb.txt -i -n</p>
<p>​        -E       通过正则表达式匹配:     grep -E  ‘正则表达式’  文件</p>
<p>​                注意： Linux中，正则不支持: \d, \s,\w,\b,\D,\S,\W,\B</p>
<p>​                                           支持：.   +, *, ?, {N,M}, [], ^, $</p>
<p>​        -v       忽略字段:   grep you bb.txt -v  (在bb.txt中找不包含you的所有行)</p>
<p>​                        grep -E  ‘[0-9]+.[0-9]+’  abb.txt  -v</p>
<p>​        -rn  递归查找目录，并打印行号</p>
<p>​        grep -r  you ./   (在当前文件夹下中所有文件中去找包行’you’的行)</p>
<p>​                        </p>
<p>​        // 对文件格式进行约束</p>
<p>​        —include=‘<em>.py’    仅包含 py文件: grep -r you ./ –include=‘</em>.txt’</p>
<p>​        —exclude=‘<em>.js’    不包含 js 文件: grep -r you ./ –exclude=’</em>.c’</p>
<p>​    例如：</p>
<p>​        grep you bb.txt  </p>
<p>​        grep you bb.txt -i</p>
<p>​        grep you bb.txt -i -n</p>
<p>​        grep -E ‘[0-9]+’ bb.txt </p>
<p>//  在文件夹下找满足条件的文件</p>
<p>find       DIR    -name  ‘<em>.xxx’        找到目录下所有名字匹配的文件:  find a1 -name ‘</em>.txt’(在文件夹a1中找所有txt文件)</p>
<p>find 路径  -size  +/-文件大小      例如: find ./  +20k  (在当前目录下找文件大小大于20k的文件)</p>
<p>​    例：find ./ -size +20k -size -100k -name ‘*.txt’   (找当前目录下大于20k并且小于100k的所有txt文件)</p>
<p>// 查指令</p>
<p>which  指令            -         精确查找当前可执行的指令</p>
<p>whereis  指令        -         查找所有匹配的命令</p>
<p>man 指令               -        使用指令手册</p>
<h4 id="五、网络管理"><a href="#五、网络管理" class="headerlink" title="五、网络管理"></a>五、网络管理</h4><p>ifconfig                                 -    查看网卡状态</p>
<p>netstat   -natp                    -     查看网络连接状态</p>
<p>netstat   -natp|grep  端口号            -     查看指定端口的网络连接状态    </p>
<p>*ping  地址 </p>
<p>ping  -i   时间    地址</p>
<p>ping  -c  次数    地址</p>
<p>telnet  ip地址    端口             -         查看远程主机网络连接状况（需要telnet环境）</p>
<p>dig 地址                            -         查看DNS   (需要环境支持)</p>
<p>** wget  地址                    -         下载  </p>
<h4 id="六、使用包管理工具-掌握"><a href="#六、使用包管理工具-掌握" class="headerlink" title="六、使用包管理工具(掌握)"></a>六、使用包管理工具(掌握)</h4><p>包管理工具：yum </p>
<ul>
<li>yum search：搜索软件包，例如yum search nginx。</li>
<li>yum list installed：列出已经安装的软件包，例如yum list installed | grep zlib。</li>
<li>yum install：安装软件包，例如yum install nginx。</li>
<li>yum remove：删除软件包，例如yum remove nginx。</li>
<li>yum update：更新软件包，例如yum update可以更新所有软件包，而yum update tar只会更新tar。</li>
<li>yum check-update：检查有哪些可以更新的软件包。</li>
<li>yum info ：显示软件包的相关信息，例如yum info nginx。</li>
</ul>
<p>源代码构建安装</p>
<ol>
<li>wget  安装包的路径        -下载安装包</li>
<li>gunzip/tar  压缩包         - 解压、解归档</li>
<li>(设置安装路径)</li>
<li>cd 安装包目录 执行: make &amp;&amp; make install       -编译安装包程序</li>
<li>给可执行文件添加软连接到usr/bin目录下            -添加快捷方式</li>
</ol>
<p>压缩/解压缩和归档/解归档 - <strong>gzip</strong> / <strong>gunzip</strong> / <strong>xz</strong> / <strong>tar</strong></p>
<p> 1）归档和解归档        -        tar<br>        tar    -cvf                            归档文件地址需要归档的原文件地址-将文件进行归档操作（既可以对文件进行归档                                            也可以对文件夹归档）<br>        tar    -xvf                             归档文件地址-将指定的归档文件解归档</p>
<p>2）压缩和解压：gzip.gunzip.xz</p>
<p>a.    gzip<br>gzip  文件地址                                                -        压缩指定文件（压缩后会生成一个gz文件，并且会删除原文件）<br>gzip    -c  文件地址  &gt;  压缩文件地址                -    将指定文件压缩指定位置，并且保留原文件<br>gzip    -d  压缩文件地址                                -        解压指定文件（解压完成后会删除原压缩文件）<br>gzip    -l  压缩文件地址                                -        列出压缩文件中的内容</p>
<p>b.    gunzip</p>
<p>gunzip    压缩文件地址                            -        解压指定文件（解压完成后悔删除原压缩文件）</p>
<p>c.    xz</p>
<p>xz    文件地址                                        -        压缩指定文件（压缩后文件后缀是xz）</p>
<p>xz    -d    压缩文件地址                        -        解压指定文件</p>
<p>发送远程文件 - scp指令：</p>
<p>scp 文件   root@IP地址:服务器上保存被发送文件的路径</p>
]]></content>
      <categories>
        <category>linux</category>
      </categories>
      <tags>
        <tag>linux</tag>
      </tags>
  </entry>
</search>
